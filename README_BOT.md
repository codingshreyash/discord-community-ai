# Discord Chat Exporter Bot

A Discord bot that uses semantic search to answer questions based on exported chat data.

## Features

- Semantic search using sentence transformers
- Automatic question detection (messages ending with '?')
- Configurable similarity threshold
- Resume review functionality (in development)

## Setup

### Prerequisites

- Python 3.10 or higher
- Discord Bot Token
- Discord Developer Portal access

### Installation

1. **Clone or download this repository**

2. **Run the setup script:**
   ```bash
   ./setup.sh
   ```
   
   Or manually:
   ```bash
   python3 -m venv venv
   source venv/bin/activate
   pip install -r requirements.txt
   ```

3. **Configure Discord Bot:**
   - Go to [Discord Developer Portal](https://discord.com/developers/applications/)
   - Select your application
   - Go to "Bot" section
   - **Enable "Message Content Intent"** (required for the bot to read messages)
   - Copy your bot token

4. **Update the bot token:**
   - Open `discord_bot.py`
   - Replace `DISCORD_BOT_TOKEN` with your actual bot token

5. **Prepare Q&A data:**
   - Run `process_exports.py` first to generate `q_and_a.json`
   - Or create your own Q&A data file in the same format

### Running the Bot

```bash
./venv/bin/python discord_bot.py
```

## Configuration

- `SIMILARITY_THRESHOLD`: Adjust the confidence threshold (default: 0.65)
- `QA_DATA_FILE`: Path to your Q&A data file (default: "q_and_a.json")

## Usage

- The bot automatically responds to messages ending with '?'
- Use `!review_resume` command for resume review (in development)

## Troubleshooting

### "PrivilegedIntentsRequired" Error
Make sure you've enabled "Message Content Intent" in your Discord Developer Portal.

### "ModuleNotFoundError"
Make sure you're running the bot with the virtual environment activated:
```bash
./venv/bin/python discord_bot.py
```

### PyTorch Compatibility Issues
The bot requires PyTorch 2.1 or higher. If you encounter compatibility issues, reinstall the dependencies:
```bash
pip install --upgrade torch torchvision
```

## File Structure

- `discord_bot.py`: Main bot code
- `process_exports.py`: Script to process exported chat data
- `requirements.txt`: Python dependencies
- `setup.sh`: Automated setup script
- `q_and_a.json`: Q&A data file (generated by process_exports.py) 